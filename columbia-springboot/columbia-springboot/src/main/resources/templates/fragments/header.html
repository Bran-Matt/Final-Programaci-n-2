<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <header th:fragment="header">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" th:href="@{/}">
                    <i class="fas fa-plane"></i> Columbia Viajes
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto" th:if="${session.usuario != null}">
                        <li class="nav-item" th:switch="${session.usuario.rol}">
                            <!-- Menú Dueño -->
                            <div th:case="DUENIO">
                                <a class="nav-link" th:href="@{/duenio/dashboard}">Dashboard</a>
                            </div>
                            <!-- Menú Administrador -->
                            <div th:case="ADMINISTRADOR">
                                <a class="nav-link" th:href="@{/admin/dashboard}">Dashboard</a>
                            </div>
                            <!-- Menú Vendedor -->
                            <div th:case="VENDEDOR">
                                <a class="nav-link" th:href="@{/vendedor/dashboard}">Dashboard</a>
                            </div>
                            <!-- Menú Cliente -->
                            <div th:case="CLIENTE">
                                <a class="nav-link" th:href="@{/cliente/dashboard}">Mi Información</a>
                            </div>
                        </li>
                    </ul>
                    
                    <div class="navbar-nav ms-auto" th:if="${session.usuario != null}">
                        <span class="navbar-text me-3">
                            <i class="fas fa-user"></i> 
                            Hola, <span th:text="${session.usuario.nombre} + ' ' + ${session.usuario.apellido}"></span>
                            (<span th:text="${session.usuario.rol}"></span>)
                        </span>
                        <a th:href="@{/auth/logout}" class="btn btn-outline-light btn-sm">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
</body>
</html>